<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css"
  rel="stylesheet"
  integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7"
  crossorigin="anonymous"
/>
<script
  src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq"
  crossorigin="anonymous"
></script>  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
<title>Document</title>
</head>
<body>
  <h1>회원가입 폼</h1>
  
  <form>

    <div class="input-group mb-3">
      <span class="input-group-text" id="basic-addon1"><i class="bi bi-person"></i></span>
      <input type="text" class="form-control" id="userNameInput" placeholder="3~10글자로 입력하세요">
    </div>
    <div id="userNameHelp" class="form-text d-none mb-3" style="color: red">사용자명은 3글자 이상 10글자 이하로 입력해야 합니다.</div>
    
    <div class="input-group mb-3">
      <span class="input-group-text" id="basic-addon2"><i class="bi bi-lock"></i></span>
      <input type="password" class="form-control" id="passwordInput" placeholder="대소문자, 숫자/특수문자 포함 8자 이상">
    </div>
    <div id="passwordHelp" class="form-text d-none mb-3" style="color: red">비밀번호는 대소문자, 숫자 또는 특수문자 중 3가지 이상 조합하여 8자 이상 입력해야 합니다.</div>
    
    <div class="input-group mb-3">
      <span class="input-group-text" id="basic-addon3"><i class="bi bi-keyboard"></i></span>
      <input type="text" class="form-control" id="nameInput" placeholder="1~10글자로 입력하세요">
    </div>
    
    <div class="input-group mb-3">
      <span class="input-group-text" id="basic-addon4"><i class="bi bi-calendar"></i></span>
      <input type="date" class="form-control" id="dateInput" placeholder="연도-월-일">
    </div>
    
    <div>관심 분야 (최소 1개, 최대 3개 선택)</div>
    <div class="form-check">
      <input class="form-check-input" type="checkbox" value="" id="interesting1">
      <label class="form-check-label" for="checkDefault">
        관심 분야1
      </label>
    </div>
    <div class="form-check">
      <input class="form-check-input" type="checkbox" value="" id="interesting2">
      <label class="form-check-label" for="checkDefault">
        관심 분야2
      </label>
    </div>
    <div class="form-check">
      <input class="form-check-input" type="checkbox" value="" id="interesting3">
      <label class="form-check-label" for="checkDefault">
        관심 분야3
      </label>
    </div>
    <div class="form-check">
      <input class="form-check-input" type="checkbox" value="" id="interesting4">
      <label class="form-check-label" for="checkDefault">
        관심 분야4
      </label>
    </div>
    
    <div class="col-12">
      <button class="btn btn-primary" type="submit">제출</button>
    </div>
  </form>
  
  <script>
    const userNameBox = document.getElementById('userNameInput');
    const passwordBox = document.getElementById('passwordInput');
    const nameBox = document.getElementById('nameInput');
    const dateBox = document.getElementById('dateInput');
    const userAlert = document.getElementById('userNameHelp');
    const passwordAlert = document.getElementById('passwordHelp');

    userNameBox.addEventListener('input', () => {
      if(idLength(userNameBox.value)){
        console.log("ID 길이 맞음");
        userAlert.classList.add('d-none');
      } else{
        console.log("ID 길이 안 맞음");
        userAlert.classList.remove('d-none');
      }
    })

    passwordBox.addEventListener('input', () => {
      if(isPassword(passwordBox.value)){
        console.log("password 조건 맞음");
        passwordAlert.classList.add('d-none');
      } else{
        console.log("password 조건 안 맞음");
        passwordAlert.classList.remove('d-none');
      }
    })

    function idLength(value) {
      return value.length >= 3 && value.length <= 10;
    }

    function isPassword(value){
      if(value.length < 8) return false;
      
      let hasLetter = false;
      let hasNumber = false;
      let hasSpecialChar = false;

      for(let i = 0; i < value.length; i++){
        const char = value[i];
        if((char >= 'A') && (char <= 'Z') || (char >= 'a') && (char <= 'z')){
          hasLetter = true;
        } else if(char >= '0' && char <= '9'){
          hasNumber = true;
        } else if('!@#$%^&*\()'.includes(char)){
          hasSpecialChar = true;
        }
      }

      if(!hasLetter) {
        console.log("문자 없음");
        return false;
      } else if (!hasNumber) {
        console.log("숫자 없음");
        return false;
      } else if(!hasSpecialChar) {
        console.log("특수문자 없음");
        return false;
      }

      return true;
    }

  </script>
</body>
</html>